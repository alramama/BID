import mysql.connector

class Name:
    def __init__(self,root):
        calldata = mysql.connector.connect(user="root", host="localhost", password="12345678", database="tender")
        print(calldata)
        ID = StringVar()
        Name= StringVar()
        Job_Title= StringVar()
        Job_Number= StringVar()
        Qualification= StringVar()
        Nationality= StringVar()
        Salary = StringVar()
        Housing_allowance = StringVar()
        Trans_allowance = StringVar()
        Health_Insurance = StringVar()
        Annual_Tickets = StringVar()
        Phone_Charge = StringVar()
        Work_license = StringVar()
        Residence_permit = StringVar()
        SCE = StringVar()
        GOSI = StringVar()
        
        def Add():
            sqlcon = mysql.connector.connect(host="localhost", user="root", password="12345678", database="naizak")
            cursor = sqlcon.cursor()
            cursor.execute("INSERT INTO nps_new VALUES (%s, %s, %s,%s,%s)" ,(ID.get(),NAME.get(),Eqamano.get(),BirthDay.get(),BloodGroup.get(),))
            sqlcon.commit()
            sqlcon.close()
        def Search():
            sqlcon = mysql.connector.connect(host="localhost", user="root", password="12345678", database="naizak")
            cursor = sqlcon.cursor()
            cursor.execute("select * from nps_new where ID='%s'" %ID.get())
            row = cursor.fetchall()
            ID.set(row[0])
            NAME.set(row[1])
            Eqamano.set(row[2])
            BirthDay.set(row[3])
            BloodGroup.set(row[4])
            sqlcon.commit()
            sqlcon.close()

        def Update():
            sqlcon = mysql.connector.connect(host="localhost", user="root", password="12345678", database="naizak")
            cursor = sqlcon.cursor()
            cursor.execute("update nps_new set  NAME=%s, Eqamano=%s,Birthday=%s,BloodGroup=%s where ID=%s ",(NAME.get(),Eqamano.get(),BirthDay.get(),BloodGroup.get(),ID.get()))
            sqlcon.commit()
            sqlcon.close()
            
        def Delete():
            sqlcon = mysql.connector.connect(host="localhost", user="root", password="12345678", database="naizak")
            cursor = sqlcon.cursor()
            cursor.execute("delete from nps_new where ID='%s'"% ID.get())
            sqlcon.commit()
            Desplay()
            sqlcon.close()
